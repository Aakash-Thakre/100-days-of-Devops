# Day 10 – Website Backup Automation using Bash Script

## Scenario

The production support team of **xFusionCorp Industries** needs to automate website backups.

They have a **static website** running on **App Server 3** in Stratos Datacenter.  
The requirement is to create a **bash script** that:

- Creates a **ZIP backup** of the website directory
- Stores it in a local backup directory
- Copies it to a **remote backup server**
- Does **not** ask for password while copying

---

## Objective

- Create a script: `beta_backup.sh`
- Location: `/scripts` directory
- Create ZIP archive: `xfusioncorp_beta.zip`
- Source directory: `/var/www/html/beta`
- Local backup path: `/backup/`
- Remote backup server path: `/backup/`
- Copy should be **passwordless** using SSH keys

---

## Concepts Used

- Bash scripting
- ZIP archiving
- SSH key-based authentication
- SCP file transfer
- Linux permissions (`chmod`)

---

## Prerequisites (Done Outside Script)

As mentioned in the task, dependencies are installed manually.

```bash
sudo yum install zip -y
# or
sudo apt install zip -y

```

# Setup Passwordless SSH

```bash
ssh-keygen -t rsa 
ssh-copy-id clint@stbkp01
```

Test:

```bash
ssh clint@stbkp01
```

Script: beta_backup.sh

``` bash
#!/bin/bash

# Create ZIP archive
zip -r /backup/xfusioncorp_beta.zip /var/www/html/beta

# Copy to backup server
scp /backup/xfusioncorp_beta.zip user@nautilus-backup-server:/backup/

```

Make Script Executable

```bash
chmod +x /scripts/beta_backup.sh
```

Run the Script

```bash
/scripts/beta_backup.sh
```

# Result

- File created: /backup/xfusioncorp_beta.zip

- File copied to: Backup Server → /backup/

- No password prompt

- Backup successful

# Verification Commands

- ls -lh /backup/
- ssh  clint@stbkp01 "ls -lh /backup/"


# Important Linux Concepts
- Concept	Purpose
- zip	Create compressed archive
- scp	Copy files over SSH
- ssh-keygen	Generate SSH keys
- ssh-copy-id	Enable passwordless login
- chmod +x	Make script executable

# Interview Q&A
Q1. How do you automate backups in Linux?

Answer:
By writing a shell script that archives the data and copies it to a backup server using scp or rsync.

Q2. Why is SSH key-based authentication used?

Answer:
To enable passwordless and secure automation between servers.

Q3. Why do we need chmod +x?

Answer:
Linux does not allow execution of a file unless it has execute permission.

Q4. Why did we use ZIP instead of tar.gz?

Answer:
Because the requirement explicitly asked for a ZIP archive.


