# IPtables Installation And Configuration

We have one of our websites up and running on our Nautilus infrastructure in Stratos DC. Our security team has raised a concern that right now Apacheâ€™s port i.e `6200` is open for all since there is no firewall installed on these hosts. So we have decided to add some security layer for these hosts and after discussions and recommendations we have come up with the following requirements:

1. Install `iptables` and all its dependencies on each app host.
2. Block incoming port `6200` on all apps for everyone except for `LBR` host.
3. Make sure the rules remain, even after system reboot.

## Steps

1. Login into each app server and run the following command:

    ```sh
    sudo yum install -y iptables iptables-services
    sudo iptables -A INPUT -p tcp --dport 6200 -s 172.16.238.14 -j ACCEPT
    sudo iptables -A INPUT -p tcp --dport 6200 -j REJECT
    sudo service iptables save
    ```

    - We have installed iptables packages
    - set accept rules for only lbr host on port: 5004
    - set reject rule incoming request to port: 5004 from anywhere
    - commit the changes for persistency on reboot

    > port can be changed according to your task
